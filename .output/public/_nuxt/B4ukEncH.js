import{e as Ie,k as Se,u as $e,N as ze,a1 as Te,V as Ue,f as q,j as Fe,U as Re,m as Ne,l as ne,r as _,n as B,o as v,a,w as e,b as c,c as V,g as h,d as l,t as o,h as t,p as Le,q as W,S as De}from"./IELR2iwA.js";import{p as X}from"./CDH_btW_.js";import{_ as Oe}from"./DlAUqK2U.js";const je={class:"database-page"},Ee={class:"text-center mb-8"},Me={class:"mb-2"},Je={class:"text-h6 text-medium-emphasis"},He={class:"mb-4"},We={class:"d-flex flex-wrap ga-3"},Ge={class:"text-h6"},Ke={key:2},Xe={class:"d-flex align-center py-2"},Ye={class:"d-flex flex-column"},Ze={class:"font-weight-bold"},Qe={class:"text-caption text-medium-emphasis"},et={class:"max-width-200"},tt={key:0,class:"text-body-2"},at={key:1,class:"text-body-2"},st={key:2,class:"text-caption text-medium-emphasis"},lt={class:"d-flex flex-column"},ot={class:"text-body-2"},nt={class:"text-caption text-medium-emphasis"},rt={class:"d-flex"},it={class:"text-center py-8"},ut={class:"text-h6 mb-2"},dt={class:"text-body-2 text-medium-emphasis"},ct={class:"text-center"},ft={class:"mb-3"},mt={key:0,class:"mb-3"},pt={class:"d-flex align-center justify-center fill-height"},_t={key:1,class:"text-center py-8"},vt={class:"text-caption text-medium-emphasis mt-2"},bt={class:"mb-3"},yt={key:0},gt={key:1},ht={key:2},xt={key:3},wt=["href"],Pt={class:"raw-data-pre"},kt=Ie({__name:"database",setup(Ct){const{isAuthenticated:D,loading:M,user:Y}=Se(),{$firebase:Vt}=$e(),{mobile:re}=ze(),A=Te(),Z=Ue(),L=q(null),I=q(A.query.search||""),O=q(!1),R=q([]),g=q(parseInt(A.query.page)||1),k=q(parseInt(A.query.limit)||10),T=q(!0),S=q(null),j=q(!1),u=q(null),x=q({number:A.query.number||"",countryCode:A.query.countryCode||"",hasProfilePic:A.query.hasProfilePic||"",isBusiness:A.query.isBusiness||"",dateFrom:A.query.dateFrom||"",dateTo:A.query.dateTo||"",includeCount:!0}),ie=[{title:"Business",value:"true"},{title:"Personal",value:"false"}],ue=[{title:"Has Profile Picture",value:"true"},{title:"No Profile Picture",value:"false"}],de=[{title:"Profile",key:"profilePic",sortable:!1,width:"80px"},{title:"Phone Number",key:"phone",sortable:!1},{title:"Country",key:"countryCode",sortable:!1,width:"120px"},{title:"Type",key:"isBusiness",sortable:!1,width:"120px"},{title:"About",key:"about",sortable:!1,width:"200px"},{title:"Date Added",key:"date",sortable:!1,width:"150px"},{title:"Actions",key:"actions",sortable:!1,width:"100px"}],{t:i}=Fe(),Q=Re(),J=()=>{const d={};I.value&&(d.search=I.value),g.value>1&&(d.page=g.value.toString()),k.value!==10&&(d.limit=k.value.toString()),Object.entries(x.value).forEach(([s,r])=>{r&&s!=="includeCount"&&(d[s]=r.toString())}),Z.push({query:d})},ce=(d=!1)=>{d&&(g.value=1),D.value&&J()},ee=async(d=!1)=>{var s,r,w,f;if(D.value){d&&(g.value=1),O.value=!0;try{S.value=null;const m=await((s=Y.value)==null?void 0:s.getIdToken()),b={page:g.value,limit:k.value,search:I.value,includeCount:"false",...Object.fromEntries(Object.entries(x.value).filter(([p,y])=>y!==""&&y!==null))},P=await $fetch("/api/search",{query:b,headers:{Authorization:`Bearer ${m}`}}).catch(p=>{var y,C;return console.error("Fetch error:",p),((y=p==null?void 0:p.response)==null?void 0:y.status)===403&&(window.location.href="/api/refresh"),{success:!1,error:p.message||"An unexpected error occurred. Please try again.",statusCode:((C=p==null?void 0:p.response)==null?void 0:C.status)||500}});if(P.success){const p=P.data.docs||[];if(p.length===0&&g.value>1){g.value=g.value-1,T.value=!1,J();return}R.value=p,T.value=p.length===k.value,T.value,P.rateLimit&&(L.value=P.rateLimit)}else console.error("Search failed:",P.error),S.value=P.error||"Search failed. Please try again.",R.value=[],T.value=!1,P.statusCode===429&&P.rateLimit&&(L.value=P.rateLimit),(P.authRequired||P.statusCode===401)&&console.warn("Authentication required for database access")}catch(m){console.error("Search error:",m),S.value=m.message||((r=m==null?void 0:m.response)==null?void 0:r.statusText)||"An unexpected error occurred. Please try again.",R.value=[],T.value=!1,((w=m==null?void 0:m.response)==null?void 0:w.status)===401?console.warn("Authentication required for database access"):((f=m==null?void 0:m.response)==null?void 0:f.status)===429&&console.warn("Rate limit exceeded")}finally{O.value=!1}}},fe=({page:d,itemsPerPage:s})=>{g.value=d,k.value=s,ee()},me=()=>{I.value="",S.value=null,x.value={number:"",countryCode:"",hasProfilePic:"",isBusiness:"",dateFrom:"",dateTo:"",includeCount:!0},g.value=1,k.value=10,Z.push({query:{}})},pe=()=>{I.value="",J()},_e=()=>{x.value.number="",J()},G=d=>{const s=X.find(r=>r.iso===d);return s?s.flag:"🏳️"},ve=d=>{const s=X.find(r=>r.iso===d);return s?s.country:d},be=d=>{const s=["primary","secondary","success","warning","info"],r=d.charCodeAt(0)%s.length;return s[r]},te=d=>new Date(d).toLocaleDateString(),ae=d=>{const s=new Date(d),w=Math.abs(new Date().getTime()-s.getTime()),f=Math.ceil(w/(1e3*60*60*24));return f===1?"1 day ago":f<30?`${f} days ago`:f<365?`${Math.floor(f/30)} months ago`:`${Math.floor(f/365)} years ago`},se=async d=>{try{await navigator.clipboard.writeText(d)}catch(s){console.error("Failed to copy:",s)}},ye=d=>{u.value=d,j.value=!0},ge=async(d,s)=>{try{if(!d){console.error("No image URL provided");return}const w=await(await fetch(d)).blob(),f=window.URL.createObjectURL(w),m=document.createElement("a");m.href=f,m.download=`${s}-profile.jpg`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(f),document.body.removeChild(m)}catch(r){console.error("Failed to download image:",r)}},he=async()=>{if(u.value)try{await navigator.clipboard.writeText(JSON.stringify(u.value,null,2))}catch(d){console.error("Failed to copy raw data:",d)}};return Ne(async()=>{M.value&&await new Promise(d=>{const s=ne(M,r=>{r||(s(),d(void 0))})}),D.value&&ee()}),ne(()=>A.query,(d,s)=>{JSON.stringify(d)!==JSON.stringify(s)&&(I.value=d.search||"",g.value=parseInt(d.page)||1,k.value=parseInt(d.limit)||10,x.value={number:d.number||"",countryCode:d.countryCode||"",hasProfilePic:d.hasProfilePic||"",isBusiness:d.isBusiness||"",dateFrom:d.dateFrom||"",dateTo:d.dateTo||"",includeCount:!0},D.value&&(O.value=!0,(async()=>{var w,f,m;try{S.value=null;const b=await((w=Y.value)==null?void 0:w.getIdToken()),P={page:g.value,limit:k.value,search:I.value,includeCount:"false",...Object.fromEntries(Object.entries(x.value).filter(([y,C])=>C!==""&&C!==null))},p=await $fetch("/api/search",{query:P,headers:{Authorization:`Bearer ${b}`}}).catch(y=>{var C,E;return console.error("Fetch error:",y),((C=y==null?void 0:y.response)==null?void 0:C.status)===403&&(window.location.href="/api/refresh"),{success:!1,error:y.message||"An unexpected error occurred. Please try again.",statusCode:((E=y==null?void 0:y.response)==null?void 0:E.status)||500}});p.success?(R.value=p.data.docs||[],T.value=(p.data.docs||[]).length===k.value,p.rateLimit&&(L.value=p.rateLimit)):(console.error("Search failed:",p.error),S.value=p.error||"Search failed. Please try again.",R.value=[],T.value=!1,p.statusCode===429&&p.rateLimit&&(L.value=p.rateLimit),(p.authRequired||p.statusCode===401)&&console.warn("Authentication required for database access"))}catch(b){console.error("Search error:",b),S.value=b.message||b.statusText||"An unexpected error occurred. Please try again.",R.value=[],T.value=!1,((f=b==null?void 0:b.response)==null?void 0:f.status)===401?console.warn("Authentication required for database access"):((m=b==null?void 0:b.response)==null?void 0:m.status)===429&&console.warn("Rate limit exceeded")}finally{O.value=!1}})()))},{deep:!0}),(d,s)=>{const r=_("v-icon"),w=_("v-card-title"),f=_("v-btn"),m=_("v-card-text"),b=_("v-card"),P=_("v-progress-circular"),p=_("v-alert"),y=_("v-spacer"),C=_("v-chip"),E=_("v-text-field"),$=_("v-col"),z=_("v-list-item"),xe=_("v-autocomplete"),le=_("v-select"),H=_("v-row"),we=_("v-form"),oe=_("v-img"),Pe=_("v-avatar"),K=_("v-tooltip"),ke=_("v-skeleton-loader"),Ce=_("v-data-table-server"),U=_("v-list-item-title"),F=_("v-list-item-subtitle"),Ve=_("v-list"),qe=_("v-card-actions"),Be=_("v-dialog"),Ae=_("v-container");return v(),B("div",je,[a(Ae,null,{default:e(()=>[c("div",Ee,[c("h1",Me,[a(r,{class:"mr-3",size:"40"},{default:e(()=>s[15]||(s[15]=[l("mdi-database")])),_:1,__:[15]}),l(" "+o(t(i)("database.title")),1)]),c("p",Je,o(t(i)("database.subtitle")),1)]),!t(D)&&!t(M)?(v(),V(b,{key:0,class:"mb-6",elevation:"4",color:"warning",variant:"outlined"},{default:e(()=>[a(w,{class:"d-flex align-center"},{default:e(()=>[a(r,{class:"mr-2",color:"warning"},{default:e(()=>s[16]||(s[16]=[l("mdi-lock")])),_:1,__:[16]}),l(" "+o(t(i)("database.authRequired")),1)]),_:1}),a(m,null,{default:e(()=>[c("p",He,o(t(i)("database.authRequiredMessage")),1),c("div",We,[a(f,{color:"primary",variant:"elevated",size:"large",to:t(Q)("/auth"),class:"mr-3"},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[17]||(s[17]=[l("mdi-login")])),_:1,__:[17]}),l(" "+o(t(i)("database.signIn")),1)]),_:1},8,["to"]),a(f,{color:"secondary",variant:"outlined",size:"large",to:t(Q)("/auth")},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[18]||(s[18]=[l("mdi-account-plus")])),_:1,__:[18]}),l(" "+o(t(i)("database.signUp")),1)]),_:1},8,["to"])])]),_:1})]),_:1})):h("",!0),t(M)?(v(),V(b,{key:1,class:"mb-6",elevation:"4"},{default:e(()=>[a(m,{class:"text-center py-8"},{default:e(()=>[a(P,{indeterminate:"",color:"primary",size:"64",class:"mb-4"}),c("p",Ge,o(t(i)("database.checkingAuth")),1)]),_:1})]),_:1})):h("",!0),t(D)&&!t(M)?(v(),B("div",Ke,[t(S)?(v(),V(p,{key:0,type:"error",dismissible:"",class:"mb-6",onInput:s[0]||(s[0]=n=>S.value=null)},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[19]||(s[19]=[l("mdi-alert-circle")])),_:1,__:[19]}),s[20]||(s[20]=c("strong",null,"Error:",-1)),l(" "+o(t(S)),1)]),_:1,__:[20]})):h("",!0),a(we,{onSubmit:s[7]||(s[7]=Le(n=>ce(!0),["prevent"]))},{default:e(()=>[a(b,{class:"mb-6",elevation:"4"},{default:e(()=>[a(w,{class:"pb-2"},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[21]||(s[21]=[l("mdi-filter")])),_:1,__:[21]}),l(" "+o(t(i)("database.searchAndFilters"))+" ",1),a(y),t(L)?(v(),V(C,{key:0,color:"info",variant:"outlined",size:"small"},{default:e(()=>[l(o(t(L).current)+"/"+o(t(L).limit)+" "+o(t(i)("database.requests")),1)]),_:1})):h("",!0)]),_:1}),a(m,null,{default:e(()=>[a(H,null,{default:e(()=>[a($,{cols:"12",md:"6"},{default:e(()=>[a(E,{modelValue:t(I),"onUpdate:modelValue":s[1]||(s[1]=n=>W(I)?I.value=n:null),label:t(i)("database.searchPlaceholder"),"prepend-inner-icon":"mdi-magnify",variant:"outlined",clearable:"","onClick:clear":pe},null,8,["modelValue","label"])]),_:1}),a($,{cols:"12",md:"6"},{default:e(()=>[a(E,{modelValue:t(x).number,"onUpdate:modelValue":s[2]||(s[2]=n=>t(x).number=n),label:t(i)("database.phoneNumber"),"prepend-inner-icon":"mdi-phone",variant:"outlined",clearable:"","onClick:clear":_e},null,8,["modelValue","label"])]),_:1}),a($,{cols:"12",md:"3"},{default:e(()=>[a(xe,{modelValue:t(x).countryCode,"onUpdate:modelValue":s[3]||(s[3]=n=>t(x).countryCode=n),label:t(i)("database.countryCode"),items:t(X),"item-title":"country","item-value":"iso","prepend-inner-icon":"mdi-flag",variant:"outlined",clearable:"","auto-select-first":""},{item:e(({props:n,item:N})=>[a(z,De(n,{title:`${N.raw.flag} ${N.raw.country} (${N.raw.iso})`}),null,16,["title"])]),selection:e(({item:n})=>[c("span",null,o(n.raw.flag)+" "+o(n.raw.country),1)]),_:1},8,["modelValue","label","items"])]),_:1}),a($,{cols:"12",md:"3"},{default:e(()=>[a(le,{modelValue:t(x).isBusiness,"onUpdate:modelValue":s[4]||(s[4]=n=>t(x).isBusiness=n),items:ie,label:t(i)("database.businessProfile"),"prepend-inner-icon":"mdi-briefcase",variant:"outlined",clearable:""},null,8,["modelValue","label"])]),_:1}),a($,{cols:"12",md:"3"},{default:e(()=>[a(le,{modelValue:t(x).hasProfilePic,"onUpdate:modelValue":s[5]||(s[5]=n=>t(x).hasProfilePic=n),items:ue,label:t(i)("database.hasProfilePic"),"prepend-inner-icon":"mdi-account-circle",variant:"outlined",clearable:""},null,8,["modelValue","label"])]),_:1}),a($,{cols:"12",md:"3"},{default:e(()=>[a(E,{modelValue:t(x).dateFrom,"onUpdate:modelValue":s[6]||(s[6]=n=>t(x).dateFrom=n),label:t(i)("database.dateFrom"),type:"date","prepend-inner-icon":"mdi-calendar-start",variant:"outlined",clearable:""},null,8,["modelValue","label"])]),_:1})]),_:1}),a(H,null,{default:e(()=>[a($,{cols:"12",class:"text-right d-flex ga-3 flex-wrap justify-end"},{default:e(()=>[a(f,{type:"button",color:"secondary",variant:"outlined",class:"mr-3",onClick:me},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[22]||(s[22]=[l("mdi-filter-off")])),_:1,__:[22]}),l(" "+o(t(i)("database.clearFilters")),1)]),_:1}),a(f,{type:"submit",color:"primary",loading:t(O)},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[23]||(s[23]=[l("mdi-magnify")])),_:1,__:[23]}),l(" "+o(t(i)("database.search")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(b,{elevation:"4"},{default:e(()=>[a(w,{class:"d-flex align-center flex-wrap ga-3"},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[24]||(s[24]=[l("mdi-table")])),_:1,__:[24]}),l(" "+o(t(i)("database.results"))+" ",1),a(y)]),_:1}),a(Ce,{mobile:t(re),"items-per-page":t(k),"onUpdate:itemsPerPage":s[8]||(s[8]=n=>W(k)?k.value=n:null),page:t(g),"onUpdate:page":s[9]||(s[9]=n=>W(g)?g.value=n:null),headers:de,items:t(R),"items-length":t(T)?t(g)*t(k)+1:(t(g)-1)*t(k)+t(R).length,loading:t(O),class:"elevation-1","item-value":"_id","show-current-page":"","onUpdate:options":fe},{"item.profilePic":e(({item:n})=>[c("div",Xe,[a(Pe,{size:"40",class:"mr-3"},{default:e(()=>[n.urlImage||n.profilePic?(v(),V(oe,{key:0,src:n.urlImage||n.profilePic,alt:n.phone,cover:""},{error:e(()=>[a(r,null,{default:e(()=>s[25]||(s[25]=[l("mdi-account-circle")])),_:1,__:[25]})]),_:2},1032,["src","alt"])):(v(),V(r,{key:1},{default:e(()=>s[26]||(s[26]=[l("mdi-account-circle")])),_:1,__:[26]}))]),_:2},1024)])]),"item.phone":e(({item:n})=>[c("div",Ye,[c("span",Ze,o(n.phone),1),c("span",Qe,o(n.number),1)])]),"item.countryCode":e(({item:n})=>[a(C,{color:be(n.countryCode),variant:"outlined",size:"small",class:"mr-2"},{default:e(()=>[l(o(G(n.countryCode))+" "+o(n.countryCode),1)]),_:2},1032,["color"])]),"item.isBusiness":e(({item:n})=>[a(C,{color:n.isBusiness?"success":"default",variant:n.isBusiness?"flat":"outlined",size:"small"},{default:e(()=>[a(r,{class:"mr-1",size:"16"},{default:e(()=>[l(o(n.isBusiness?"mdi-briefcase":"mdi-account"),1)]),_:2},1024),l(" "+o(n.isBusiness?t(i)("database.business"):t(i)("database.personal")),1)]),_:2},1032,["color","variant"])]),"item.about":e(({item:n})=>{var N;return[c("div",et,[n.about?(v(),B("span",tt,o(n.about),1)):(N=n.businessProfile)!=null&&N.description?(v(),B("span",at,o(n.businessProfile.description),1)):(v(),B("span",st,o(t(i)("database.noDescription")),1))])]}),"item.date":e(({item:n})=>[c("div",lt,[c("span",ot,o(te(n.date)),1),c("span",nt,o(ae(n.date)),1)])]),"item.actions":e(({item:n})=>[c("div",rt,[a(f,{icon:"",size:"small",variant:"text",onClick:N=>ye(n)},{default:e(()=>[a(r,null,{default:e(()=>s[27]||(s[27]=[l("mdi-open-in-new")])),_:1,__:[27]}),a(K,{activator:"parent"},{default:e(()=>[l(o(t(i)("database.showDetails")),1)]),_:1})]),_:2},1032,["onClick"]),a(f,{icon:"",size:"small",variant:"text",onClick:N=>se(n.phone)},{default:e(()=>[a(r,null,{default:e(()=>s[28]||(s[28]=[l("mdi-content-copy")])),_:1,__:[28]}),a(K,{activator:"parent"},{default:e(()=>[l(o(t(i)("database.copyPhone")),1)]),_:1})]),_:2},1032,["onClick"]),a(f,{icon:"",size:"small",variant:"text",to:`/${n.number}`},{default:e(()=>[a(r,null,{default:e(()=>s[29]||(s[29]=[l("mdi-refresh")])),_:1,__:[29]}),a(K,{activator:"parent"},{default:e(()=>[l(o(t(i)("database.searchAgain")),1)]),_:1})]),_:2},1032,["to"])])]),loading:e(()=>[a(ke,{type:"table-row@10"})]),"no-data":e(()=>[c("div",it,[a(r,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:e(()=>s[30]||(s[30]=[l("mdi-database-search")])),_:1,__:[30]}),c("h3",ut,o(t(i)("database.noResults")),1),c("p",dt,o(t(i)("database.noResultsHint")),1)])]),_:1},8,["mobile","items-per-page","page","items","items-length","loading"])]),_:1})])):h("",!0),a(Be,{modelValue:t(j),"onUpdate:modelValue":s[14]||(s[14]=n=>W(j)?j.value=n:null),"max-width":"900",scrollable:""},{default:e(()=>[t(u)?(v(),V(b,{key:0},{default:e(()=>[a(w,{class:"d-flex align-center"},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[31]||(s[31]=[l("mdi-information")])),_:1,__:[31]}),l(" "+o(t(i)("database.detailsTitle"))+" ",1),a(y),a(f,{icon:"",variant:"text",onClick:s[10]||(s[10]=n=>j.value=!1)},{default:e(()=>[a(r,null,{default:e(()=>s[32]||(s[32]=[l("mdi-close")])),_:1,__:[32]})]),_:1})]),_:1}),a(m,null,{default:e(()=>[a(H,null,{default:e(()=>[a($,{cols:"12",md:"4"},{default:e(()=>[c("div",ct,[a(b,{variant:"outlined",class:"pa-4"},{default:e(()=>[c("h4",ft,o(t(i)("database.profilePicture")),1),t(u).urlImage||t(u).profilePic?(v(),B("div",mt,[a(oe,{src:t(u).urlImage||t(u).profilePic,alt:t(u).phone,"max-height":"300","max-width":"300",class:"mx-auto rounded",contain:""},{error:e(()=>[c("div",pt,[a(r,{size:"100",color:"grey-lighten-2"},{default:e(()=>s[33]||(s[33]=[l("mdi-account-circle")])),_:1,__:[33]})])]),_:1},8,["src","alt"]),t(u).urlImage||t(u).profilePic?(v(),V(f,{key:0,color:"primary",variant:"outlined",class:"mt-3",onClick:s[11]||(s[11]=n=>ge(t(u).urlImage||t(u).profilePic,t(u).phone))},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[34]||(s[34]=[l("mdi-download")])),_:1,__:[34]}),l(" "+o(t(i)("database.downloadImage")),1)]),_:1})):h("",!0)])):(v(),B("div",_t,[a(r,{size:"100",color:"grey-lighten-2"},{default:e(()=>s[35]||(s[35]=[l("mdi-account-circle")])),_:1,__:[35]}),c("p",vt,o(t(i)("database.noProfilePic")),1)]))]),_:1})])]),_:1}),a($,{cols:"12",md:"8"},{default:e(()=>[a(b,{variant:"outlined",class:"pa-4"},{default:e(()=>[c("h4",bt,o(t(i)("database.profileInformation")),1),a(Ve,{density:"compact"},{default:e(()=>[a(z,null,{prepend:e(()=>[a(r,null,{default:e(()=>s[36]||(s[36]=[l("mdi-phone")])),_:1,__:[36]})]),append:e(()=>[a(f,{icon:"",size:"small",variant:"text",onClick:s[12]||(s[12]=n=>se(t(u).phone))},{default:e(()=>[a(r,null,{default:e(()=>s[37]||(s[37]=[l("mdi-content-copy")])),_:1,__:[37]})]),_:1})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.phoneNumber")),1)]),_:1}),a(F,{class:"font-weight-medium"},{default:e(()=>[l(o(G(t(u).countryCode))+" "+o(t(u).phone),1)]),_:1})]),_:1}),t(u).number&&t(u).number!==t(u).phone?(v(),V(z,{key:0},{prepend:e(()=>[a(r,null,{default:e(()=>s[38]||(s[38]=[l("mdi-phone-outline")])),_:1,__:[38]})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.alternativeNumber")),1)]),_:1}),a(F,null,{default:e(()=>[l(o(t(u).number),1)]),_:1})]),_:1})):h("",!0),t(u).name?(v(),V(z,{key:1},{prepend:e(()=>[a(r,null,{default:e(()=>s[39]||(s[39]=[l("mdi-account")])),_:1,__:[39]})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.name")),1)]),_:1}),a(F,null,{default:e(()=>[l(o(t(u).name),1)]),_:1})]),_:1})):h("",!0),t(u).about?(v(),V(z,{key:2},{prepend:e(()=>[a(r,null,{default:e(()=>s[40]||(s[40]=[l("mdi-information-outline")])),_:1,__:[40]})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.about")),1)]),_:1}),a(F,null,{default:e(()=>[l(o(t(u).about),1)]),_:1})]),_:1})):h("",!0),a(z,null,{prepend:e(()=>[a(r,null,{default:e(()=>s[41]||(s[41]=[l("mdi-flag")])),_:1,__:[41]})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.country")),1)]),_:1}),a(F,null,{default:e(()=>[l(o(G(t(u).countryCode))+" "+o(ve(t(u).countryCode))+" ("+o(t(u).countryCode)+") ",1)]),_:1})]),_:1}),a(z,null,{prepend:e(()=>[a(r,null,{default:e(()=>[l(o(t(u).isBusiness?"mdi-briefcase":"mdi-account"),1)]),_:1})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.accountType")),1)]),_:1}),a(F,null,{default:e(()=>[a(C,{color:t(u).isBusiness?"success":"default",variant:t(u).isBusiness?"flat":"outlined",size:"small"},{default:e(()=>[l(o(t(u).isBusiness?t(i)("database.business"):t(i)("database.personal")),1)]),_:1},8,["color","variant"])]),_:1})]),_:1}),t(u).businessProfile?(v(),V(z,{key:3},{prepend:e(()=>[a(r,null,{default:e(()=>s[42]||(s[42]=[l("mdi-briefcase-outline")])),_:1,__:[42]})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.businessProfile")),1)]),_:1}),a(F,null,{default:e(()=>{var n;return[t(u).businessProfile.description?(v(),B("div",yt,[c("strong",null,o(t(i)("database.description"))+":",1),l(" "+o(t(u).businessProfile.description),1)])):h("",!0),t(u).businessProfile.category?(v(),B("div",gt,[c("strong",null,o(t(i)("database.category"))+":",1),l(" "+o(t(u).businessProfile.category),1)])):h("",!0),t(u).businessProfile.email?(v(),B("div",ht,[c("strong",null,o(t(i)("database.email"))+":",1),l(" "+o(t(u).businessProfile.email),1)])):h("",!0),(n=t(u).businessProfile.website)!=null&&n.length?(v(),B("div",xt,[c("strong",null,o(t(i)("database.website"))+":",1),c("a",{href:t(u).businessProfile.website[0],target:"_blank",class:"text-primary"},o(t(u).businessProfile.website[0]),9,wt)])):h("",!0)]}),_:1})]),_:1})):h("",!0),t(u).date?(v(),V(z,{key:4},{prepend:e(()=>[a(r,null,{default:e(()=>s[43]||(s[43]=[l("mdi-calendar")])),_:1,__:[43]})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.dateAdded")),1)]),_:1}),a(F,null,{default:e(()=>[l(o(te(t(u).date))+" ("+o(ae(t(u).date))+") ",1)]),_:1})]),_:1})):h("",!0),t(u).isEnterprise!==void 0?(v(),V(z,{key:5},{prepend:e(()=>[a(r,null,{default:e(()=>s[44]||(s[44]=[l("mdi-office-building")])),_:1,__:[44]})]),default:e(()=>[a(U,null,{default:e(()=>[l(o(t(i)("database.enterprise")),1)]),_:1}),a(F,null,{default:e(()=>[a(C,{color:t(u).isEnterprise?"info":"default",variant:t(u).isEnterprise?"flat":"outlined",size:"small"},{default:e(()=>[l(o(t(u).isEnterprise?t(i)("database.yes"):t(i)("database.no")),1)]),_:1},8,["color","variant"])]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),a(H,{class:"mt-4"},{default:e(()=>[a($,{cols:"12"},{default:e(()=>[a(b,{variant:"outlined"},{default:e(()=>[a(w,{class:"d-flex align-center flex-wrap ga-3 pb-4 pb-sm-2"},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[45]||(s[45]=[l("mdi-code-json")])),_:1,__:[45]}),l(" "+o(t(i)("database.rawData"))+" ",1),a(y),a(f,{color:"primary",variant:"outlined",size:"small",onClick:he},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[46]||(s[46]=[l("mdi-content-copy")])),_:1,__:[46]}),l(" "+o(t(i)("database.copyRawData")),1)]),_:1})]),_:1}),a(m,null,{default:e(()=>[c("pre",Pt,o(JSON.stringify(t(u),null,2)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(qe,null,{default:e(()=>[a(f,{color:"secondary",variant:"outlined",to:`/${t(u).number}`},{default:e(()=>[a(r,{class:"mr-2"},{default:e(()=>s[47]||(s[47]=[l("mdi-refresh")])),_:1,__:[47]}),l(" "+o(t(i)("database.searchAgain")),1)]),_:1},8,["to"]),a(y),a(f,{color:"primary",onClick:s[13]||(s[13]=n=>j.value=!1)},{default:e(()=>[l(o(t(i)("database.close")),1)]),_:1})]),_:1})]),_:1})):h("",!0)]),_:1},8,["modelValue"])]),_:1})])}}}),It=Oe(kt,[["__scopeId","data-v-ddfd5e18"]]);export{It as default};
