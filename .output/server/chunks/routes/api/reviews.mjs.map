{"version":3,"file":"reviews.mjs","sources":["../../../../../server/api/reviews.ts"],"sourcesContent":null,"names":["cache","Map","pendingRequests","reviews","defineEventHandler","async","event","getQuery","domain","cacheKey","cachedEntry","get","cacheEntry","Date","now","timestamp","console","log","data","pendingRequest","requestPromise","trustpilotUrl","response","$fetch","timeout","map","review","id","rating","title","text","author","consumer","displayName","country","countryCode","date","dates","publishedDate","isVerified","labels","verification","source","success","pageUrl","businessName","businessUnit","totalReviews","numberOfReviews","averageRating","trustScore","ratingDistribution","filters","reviewStatistics","ratings","error","Error","message","fetchReviewsFromAPI","set","result","delete"],"mappings":"0qBAOA,MAAAA,MAAAC,IACAC,MAAAD,IAyLA,MAAAE,EAAAC,GAAAC,MAAAC,IAEAC,EAAAD,GACA,MAAAE,EAAA,0BACAC,EAAA,WAAAD,IAGAE,EAAAV,EAAAW,IAAAF,GACA,GAAAC,IAZAE,EAYAF,EAXAG,KAAAC,MAAAF,EAAAG,UArLA,KAkMA,OADAC,QAAAC,IAAA,+CAAAT,KACAE,EAAAQ,KAdA,IAAAN,EAkBA,MAAAO,EAAAjB,EAAAS,IAAAF,GACA,GAAAU,EAEA,OADAH,QAAAC,IAAA,qDAAAT,WACAW,EAIA,MAAAC,EAtEAf,eAAAG,GACA,IACA,MAAAa,EAAA,gDAAAb,IAEAc,QAAAC,OAAAF,EAAA,CACAG,QAAA,MAIArB,EAAAmB,EAAAnB,QAAAsB,KAAAC,IAAA,CACAC,GAAAD,EAAAC,GACAC,OAAAF,EAAAE,OACAC,MAAAH,EAAAG,MACAC,KAAAJ,EAAAI,KACAC,OAAAL,EAAAM,SAAAC,YACAC,QAAAR,EAAAM,SAAAG,YACAC,KAAAV,EAAAW,MAAAC,cACAC,WAAAb,EAAAc,OAAAC,aAAAF,WACAG,OAAAhB,EAAAgB,WAGA,MAAA,CACAC,SAAA,EACAzB,KAAA,CACAV,OAAAc,EAAAd,OACAa,cAAAC,EAAAsB,QACAC,aAAAvB,EAAAwB,aAAAb,YACAc,aAAAzB,EAAAwB,aAAAE,gBACAC,cAAA3B,EAAAwB,aAAAI,WACAC,mBAAA7B,EAAA8B,QAAAC,iBAAAC,QACAnD,kBAGAoD,GAGA,OAFAvC,QAAAuC,MAAA,0BAAAA,GAEA,CACAZ,SAAA,EACAzB,KAAA,KACAqC,MAAAA,aAAAC,MAAAD,EAAAE,QAAA,0BACA,CAEA,CA4BAC,CAAAlD,GACAN,EAAAyD,IAAAlD,EAAAW,GAEA,IACAJ,QAAAC,IAAA,6CAAAT,KACA,MAAAoD,QAAAxC,EAGAR,EAAA,CACAM,KAAA0C,EACA7C,UAAAF,KAAAC,OAKA,OAHAd,EAAA2D,IAAAlD,EAAAG,GAEAI,QAAAC,IAAA,qCAAAT,eAAAoD,EAAAjB,WACAiB,QACAL,GAIA,OAHAvC,QAAAuC,MAAA,gDAAA/C,IAAA+C,GAGA,CACAZ,SAAA,EACAzB,KAAA,KACAqC,MAAAA,aAAAC,MAAAD,EAAAE,QAAA,0BACA,CACA,QAEAvD,EAAA2D,OAAApD,EAAA"}