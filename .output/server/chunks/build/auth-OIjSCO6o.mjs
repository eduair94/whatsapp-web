import{defineComponent as e,computed as l,ref as a,reactive as t,watch as n,resolveComponent as o,mergeProps as i,withCtx as u,unref as r,createVNode as d,toDisplayString as s,createTextVNode as c,createBlock as m,createCommentVNode as p,openBlock as v,withModifiers as f,nextTick as h,useSSRContext as b}from"vue";import{ssrRenderComponent as y,ssrInterpolate as g}from"vue/server-renderer";import{g as k,t as w,a as V,k as x,v as _,u as C}from"./server.mjs";import{s as U}from"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"../_/nitro.mjs";import"fs";import"os";import"path";import"url";import"http";import"https";import"events";import"zlib";import"@fastify/busboy";import"jsonwebtoken";import"node-forge";import"crypto";import"jwks-rsa";import"bcryptjs";import"mongoose";import"lru-cache";import"@unocss/core";import"@unocss/preset-wind3";import"devalue";import"consola";import"unhead";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"unhead/server";import"unhead/plugins";import"unhead/utils";import"vue-bundle-renderer/runtime";import"node:path";import"node:crypto";import"vue-router";import"@unhead/addons";import"@unhead/schema-org/vue";import"axios";import"vue-recaptcha-v3";import"idb";const P=e({__name:"auth",__ssrInlineRender:!0,setup(e){const{t:b,locale:U}=k(),P=w(),I=V(),{user:q,error:N,signIn:z,signUp:$,signInWithGoogle:A,resetPassword:R}=x(),j=`${_}/${U.value}/auth`;C({title:l((()=>b("auth.title")+" - "+b("meta.suffix"))),meta:[{name:"description",content:l((()=>b("auth.meta.description")))},{property:"og:type",content:"website"},{property:"og:site_name",content:l((()=>b("meta.siteName")))},{property:"og:title",content:l((()=>b("auth.title")+" - "+b("meta.suffix")))},{property:"og:description",content:l((()=>b("auth.meta.description")))},{property:"og:url",content:j},{name:"twitter:title",content:l((()=>b("auth.title")+" - "+b("meta.suffix")))},{name:"twitter:description",content:l((()=>b("auth.meta.description")))},{name:"twitter:card",content:"summary_large_image"},{name:"robots",content:"noindex, nofollow"},{name:"language",content:l((()=>U.value))}]});const D=a("login"),G=a(!1),W=a(!1),S=a(!1),M=a(),T=a(null),L=a(null),E=a(!1),K=a(!1),O=a(""),B=t({email:"",password:"",confirmPassword:"",displayName:""}),F=[e=>!!e||b("auth.validation.emailRequired"),e=>/.+@.+\..+/.test(e)||b("auth.validation.emailInvalid")],H=[e=>!!e||b("auth.validation.passwordRequired"),e=>e.length>=6||b("auth.validation.passwordMinLength")],J=[e=>!!e||b("auth.validation.displayNameRequired"),e=>e.length>=2||b("auth.validation.displayNameMinLength")],Q=l((()=>[e=>!!e||b("auth.validation.confirmPasswordRequired"),e=>e===B.password||b("auth.validation.passwordsNotMatch")])),le=()=>{D.value="login"===D.value?"register":"login",T.value=null,L.value=null,Object.keys(B).forEach((e=>{B[e]=""})),h((()=>{var e;null==(e=M.value)||e.resetValidation()}))},ae=async()=>{const{valid:e}=await M.value.validate();if(e){E.value=!0,T.value=null,L.value=null;try{"login"===D.value?(await z(B.email,B.password),L.value=b("auth.login.success"),setTimeout((()=>{I.push(P("/"))}),1500)):(await $(B.email,B.password,B.displayName),L.value=b("auth.register.success"),setTimeout((()=>{I.push(P("/"))}),1500))}catch{T.value=N.value||b("auth.error.generic")}finally{E.value=!1}}},oe=async()=>{if(O.value&&/.+@.+\..+/.test(O.value)){K.value=!0,T.value=null;try{await R(O.value),L.value=b("auth.resetPassword.success"),S.value=!1,O.value=""}catch{T.value=N.value||b("auth.error.generic")}finally{K.value=!1}}else T.value=b("auth.validation.emailInvalid")},Y=async()=>{E.value=!0,T.value=null,L.value=null;try{await A(),L.value=b("auth.login.success"),setTimeout((()=>{I.push(P("/"))}),1500)}catch(e){console.error(e),T.value=N.value||b("auth.error.generic")}finally{E.value=!1}};return n(q,(e=>{e&&I.push(P("/"))})),(e,l,a,t)=>{const n=o("v-container"),h=o("v-row"),k=o("v-col"),w=o("v-card"),V=o("v-card-title"),x=o("v-card-text"),_=o("v-alert"),C=o("v-form"),U=o("v-text-field"),P=o("v-btn"),I=o("v-divider"),q=o("v-dialog"),N=o("v-card-actions"),z=o("v-spacer");l(y(n,i({class:"auth-container"},t),{default:u(((e,l,a,t)=>{if(!l)return[d(h,{justify:"center"},{default:u((()=>[d(k,{cols:"12",sm:"8",md:"6",lg:"4"},{default:u((()=>[d(w,{class:"auth-card",elevation:"10"},{default:u((()=>[d(V,{class:"text-center py-6"},{default:u((()=>[d("h1",{class:"text-h4 font-weight-bold"},s("login"===D.value?r(b)("auth.login.title"):r(b)("auth.register.title")),1)])),_:1}),d(x,{class:"pt-6"},{default:u((()=>[T.value?(v(),m(_,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>T.value=null},{default:u((()=>[c(s(T.value),1)])),_:1},8,["onClick:close"])):p("",!0),L.value?(v(),m(_,{key:1,type:"success",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>L.value=null},{default:u((()=>[c(s(L.value),1)])),_:1},8,["onClick:close"])):p("",!0),d(C,{ref_key:"formRef",ref:M,onSubmit:f(ae,["prevent"])},{default:u((()=>["register"===D.value?(v(),m(U,{key:0,modelValue:B.displayName,"onUpdate:modelValue":e=>B.displayName=e,label:r(b)("auth.displayName"),rules:J,variant:"outlined","prepend-inner-icon":"mdi-account",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"])):p("",!0),d(U,{modelValue:B.email,"onUpdate:modelValue":e=>B.email=e,label:r(b)("auth.email"),rules:F,variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"]),d(U,{modelValue:B.password,"onUpdate:modelValue":e=>B.password=e,label:r(b)("auth.password"),rules:H,variant:"outlined",type:G.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":G.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>G.value=!G.value,class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label","type","append-inner-icon","onClick:appendInner"]),"register"===D.value?(v(),m(U,{key:1,modelValue:B.confirmPassword,"onUpdate:modelValue":e=>B.confirmPassword=e,label:r(b)("auth.confirmPassword"),rules:Q.value,variant:"outlined",type:W.value?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":W.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>W.value=!W.value,class:"mb-4",required:""},null,8,["modelValue","onUpdate:modelValue","label","rules","type","append-inner-icon","onClick:appendInner"])):p("",!0),d(P,{type:"submit",color:"primary",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100"},{default:u((()=>[c(s("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit")),1)])),_:1},8,["loading"]),d(I,{class:"my-4"},{default:u((()=>[d("span",{class:"text-body-2 text-medium-emphasis px-2"},s(r(b)("auth.orDivider")),1)])),_:1}),d(P,{onClick:Y,color:"white",variant:"outlined",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100","prepend-icon":"mdi-google"},{default:u((()=>[c(s(r(b)("auth.signInWithGoogle")),1)])),_:1},8,["loading"])])),_:1},512),"login"===D.value?(v(),m("div",{key:2,class:"text-center mb-4"},[d(P,{variant:"text",color:"primary",size:"small",onClick:e=>S.value=!0},{default:u((()=>[c(s(r(b)("auth.forgotPassword")),1)])),_:1},8,["onClick"])])):p("",!0),d(I,{class:"my-4"}),d("div",{class:"text-center"},[d("p",{class:"text-body-2 mb-2"},s("login"===D.value?r(b)("auth.noAccount"):r(b)("auth.hasAccount")),1),d(P,{variant:"text",color:"primary",onClick:le},{default:u((()=>[c(s("login"===D.value?r(b)("auth.register.link"):r(b)("auth.login.link")),1)])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1}),d(q,{modelValue:S.value,"onUpdate:modelValue":e=>S.value=e,"max-width":"500"},{default:u((()=>[d(w,null,{default:u((()=>[d(V,{class:"text-h5"},{default:u((()=>[c(s(r(b)("auth.resetPassword.title")),1)])),_:1}),d(x,null,{default:u((()=>[d("p",{class:"mb-4"},s(r(b)("auth.resetPassword.description")),1),d(U,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,label:r(b)("auth.email"),variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",rules:F},null,8,["modelValue","onUpdate:modelValue","label"])])),_:1}),d(N,null,{default:u((()=>[d(z),d(P,{variant:"text",onClick:e=>S.value=!1},{default:u((()=>[c(s(r(b)("auth.cancel")),1)])),_:1},8,["onClick"]),d(P,{color:"primary",variant:"flat",loading:K.value,onClick:oe},{default:u((()=>[c(s(r(b)("auth.resetPassword.submit")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])];l(y(h,{justify:"center"},{default:u(((e,l,a,t)=>{if(!l)return[d(k,{cols:"12",sm:"8",md:"6",lg:"4"},{default:u((()=>[d(w,{class:"auth-card",elevation:"10"},{default:u((()=>[d(V,{class:"text-center py-6"},{default:u((()=>[d("h1",{class:"text-h4 font-weight-bold"},s("login"===D.value?r(b)("auth.login.title"):r(b)("auth.register.title")),1)])),_:1}),d(x,{class:"pt-6"},{default:u((()=>[T.value?(v(),m(_,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>T.value=null},{default:u((()=>[c(s(T.value),1)])),_:1},8,["onClick:close"])):p("",!0),L.value?(v(),m(_,{key:1,type:"success",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>L.value=null},{default:u((()=>[c(s(L.value),1)])),_:1},8,["onClick:close"])):p("",!0),d(C,{ref_key:"formRef",ref:M,onSubmit:f(ae,["prevent"])},{default:u((()=>["register"===D.value?(v(),m(U,{key:0,modelValue:B.displayName,"onUpdate:modelValue":e=>B.displayName=e,label:r(b)("auth.displayName"),rules:J,variant:"outlined","prepend-inner-icon":"mdi-account",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"])):p("",!0),d(U,{modelValue:B.email,"onUpdate:modelValue":e=>B.email=e,label:r(b)("auth.email"),rules:F,variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"]),d(U,{modelValue:B.password,"onUpdate:modelValue":e=>B.password=e,label:r(b)("auth.password"),rules:H,variant:"outlined",type:G.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":G.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>G.value=!G.value,class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label","type","append-inner-icon","onClick:appendInner"]),"register"===D.value?(v(),m(U,{key:1,modelValue:B.confirmPassword,"onUpdate:modelValue":e=>B.confirmPassword=e,label:r(b)("auth.confirmPassword"),rules:Q.value,variant:"outlined",type:W.value?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":W.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>W.value=!W.value,class:"mb-4",required:""},null,8,["modelValue","onUpdate:modelValue","label","rules","type","append-inner-icon","onClick:appendInner"])):p("",!0),d(P,{type:"submit",color:"primary",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100"},{default:u((()=>[c(s("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit")),1)])),_:1},8,["loading"]),d(I,{class:"my-4"},{default:u((()=>[d("span",{class:"text-body-2 text-medium-emphasis px-2"},s(r(b)("auth.orDivider")),1)])),_:1}),d(P,{onClick:Y,color:"white",variant:"outlined",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100","prepend-icon":"mdi-google"},{default:u((()=>[c(s(r(b)("auth.signInWithGoogle")),1)])),_:1},8,["loading"])])),_:1},512),"login"===D.value?(v(),m("div",{key:2,class:"text-center mb-4"},[d(P,{variant:"text",color:"primary",size:"small",onClick:e=>S.value=!0},{default:u((()=>[c(s(r(b)("auth.forgotPassword")),1)])),_:1},8,["onClick"])])):p("",!0),d(I,{class:"my-4"}),d("div",{class:"text-center"},[d("p",{class:"text-body-2 mb-2"},s("login"===D.value?r(b)("auth.noAccount"):r(b)("auth.hasAccount")),1),d(P,{variant:"text",color:"primary",onClick:le},{default:u((()=>[c(s("login"===D.value?r(b)("auth.register.link"):r(b)("auth.login.link")),1)])),_:1})])])),_:1})])),_:1})])),_:1})];l(y(k,{cols:"12",sm:"8",md:"6",lg:"4"},{default:u(((e,l,a,t)=>{if(!l)return[d(w,{class:"auth-card",elevation:"10"},{default:u((()=>[d(V,{class:"text-center py-6"},{default:u((()=>[d("h1",{class:"text-h4 font-weight-bold"},s("login"===D.value?r(b)("auth.login.title"):r(b)("auth.register.title")),1)])),_:1}),d(x,{class:"pt-6"},{default:u((()=>[T.value?(v(),m(_,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>T.value=null},{default:u((()=>[c(s(T.value),1)])),_:1},8,["onClick:close"])):p("",!0),L.value?(v(),m(_,{key:1,type:"success",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>L.value=null},{default:u((()=>[c(s(L.value),1)])),_:1},8,["onClick:close"])):p("",!0),d(C,{ref_key:"formRef",ref:M,onSubmit:f(ae,["prevent"])},{default:u((()=>["register"===D.value?(v(),m(U,{key:0,modelValue:B.displayName,"onUpdate:modelValue":e=>B.displayName=e,label:r(b)("auth.displayName"),rules:J,variant:"outlined","prepend-inner-icon":"mdi-account",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"])):p("",!0),d(U,{modelValue:B.email,"onUpdate:modelValue":e=>B.email=e,label:r(b)("auth.email"),rules:F,variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"]),d(U,{modelValue:B.password,"onUpdate:modelValue":e=>B.password=e,label:r(b)("auth.password"),rules:H,variant:"outlined",type:G.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":G.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>G.value=!G.value,class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label","type","append-inner-icon","onClick:appendInner"]),"register"===D.value?(v(),m(U,{key:1,modelValue:B.confirmPassword,"onUpdate:modelValue":e=>B.confirmPassword=e,label:r(b)("auth.confirmPassword"),rules:Q.value,variant:"outlined",type:W.value?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":W.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>W.value=!W.value,class:"mb-4",required:""},null,8,["modelValue","onUpdate:modelValue","label","rules","type","append-inner-icon","onClick:appendInner"])):p("",!0),d(P,{type:"submit",color:"primary",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100"},{default:u((()=>[c(s("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit")),1)])),_:1},8,["loading"]),d(I,{class:"my-4"},{default:u((()=>[d("span",{class:"text-body-2 text-medium-emphasis px-2"},s(r(b)("auth.orDivider")),1)])),_:1}),d(P,{onClick:Y,color:"white",variant:"outlined",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100","prepend-icon":"mdi-google"},{default:u((()=>[c(s(r(b)("auth.signInWithGoogle")),1)])),_:1},8,["loading"])])),_:1},512),"login"===D.value?(v(),m("div",{key:2,class:"text-center mb-4"},[d(P,{variant:"text",color:"primary",size:"small",onClick:e=>S.value=!0},{default:u((()=>[c(s(r(b)("auth.forgotPassword")),1)])),_:1},8,["onClick"])])):p("",!0),d(I,{class:"my-4"}),d("div",{class:"text-center"},[d("p",{class:"text-body-2 mb-2"},s("login"===D.value?r(b)("auth.noAccount"):r(b)("auth.hasAccount")),1),d(P,{variant:"text",color:"primary",onClick:le},{default:u((()=>[c(s("login"===D.value?r(b)("auth.register.link"):r(b)("auth.login.link")),1)])),_:1})])])),_:1})])),_:1})];l(y(w,{class:"auth-card",elevation:"10"},{default:u(((e,l,a,t)=>{if(!l)return[d(V,{class:"text-center py-6"},{default:u((()=>[d("h1",{class:"text-h4 font-weight-bold"},s("login"===D.value?r(b)("auth.login.title"):r(b)("auth.register.title")),1)])),_:1}),d(x,{class:"pt-6"},{default:u((()=>[T.value?(v(),m(_,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>T.value=null},{default:u((()=>[c(s(T.value),1)])),_:1},8,["onClick:close"])):p("",!0),L.value?(v(),m(_,{key:1,type:"success",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>L.value=null},{default:u((()=>[c(s(L.value),1)])),_:1},8,["onClick:close"])):p("",!0),d(C,{ref_key:"formRef",ref:M,onSubmit:f(ae,["prevent"])},{default:u((()=>["register"===D.value?(v(),m(U,{key:0,modelValue:B.displayName,"onUpdate:modelValue":e=>B.displayName=e,label:r(b)("auth.displayName"),rules:J,variant:"outlined","prepend-inner-icon":"mdi-account",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"])):p("",!0),d(U,{modelValue:B.email,"onUpdate:modelValue":e=>B.email=e,label:r(b)("auth.email"),rules:F,variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"]),d(U,{modelValue:B.password,"onUpdate:modelValue":e=>B.password=e,label:r(b)("auth.password"),rules:H,variant:"outlined",type:G.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":G.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>G.value=!G.value,class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label","type","append-inner-icon","onClick:appendInner"]),"register"===D.value?(v(),m(U,{key:1,modelValue:B.confirmPassword,"onUpdate:modelValue":e=>B.confirmPassword=e,label:r(b)("auth.confirmPassword"),rules:Q.value,variant:"outlined",type:W.value?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":W.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>W.value=!W.value,class:"mb-4",required:""},null,8,["modelValue","onUpdate:modelValue","label","rules","type","append-inner-icon","onClick:appendInner"])):p("",!0),d(P,{type:"submit",color:"primary",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100"},{default:u((()=>[c(s("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit")),1)])),_:1},8,["loading"]),d(I,{class:"my-4"},{default:u((()=>[d("span",{class:"text-body-2 text-medium-emphasis px-2"},s(r(b)("auth.orDivider")),1)])),_:1}),d(P,{onClick:Y,color:"white",variant:"outlined",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100","prepend-icon":"mdi-google"},{default:u((()=>[c(s(r(b)("auth.signInWithGoogle")),1)])),_:1},8,["loading"])])),_:1},512),"login"===D.value?(v(),m("div",{key:2,class:"text-center mb-4"},[d(P,{variant:"text",color:"primary",size:"small",onClick:e=>S.value=!0},{default:u((()=>[c(s(r(b)("auth.forgotPassword")),1)])),_:1},8,["onClick"])])):p("",!0),d(I,{class:"my-4"}),d("div",{class:"text-center"},[d("p",{class:"text-body-2 mb-2"},s("login"===D.value?r(b)("auth.noAccount"):r(b)("auth.hasAccount")),1),d(P,{variant:"text",color:"primary",onClick:le},{default:u((()=>[c(s("login"===D.value?r(b)("auth.register.link"):r(b)("auth.login.link")),1)])),_:1})])])),_:1})];l(y(V,{class:"text-center py-6"},{default:u(((e,l,a,t)=>{if(!l)return[d("h1",{class:"text-h4 font-weight-bold"},s("login"===D.value?r(b)("auth.login.title"):r(b)("auth.register.title")),1)];l(`<h1 class="text-h4 font-weight-bold" data-v-27f3f4df${t}>${g("login"===D.value?r(b)("auth.login.title"):r(b)("auth.register.title"))}</h1>`)})),_:1},a,t)),l(y(x,{class:"pt-6"},{default:u(((e,l,a,t)=>{if(!l)return[T.value?(v(),m(_,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>T.value=null},{default:u((()=>[c(s(T.value),1)])),_:1},8,["onClick:close"])):p("",!0),L.value?(v(),m(_,{key:1,type:"success",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>L.value=null},{default:u((()=>[c(s(L.value),1)])),_:1},8,["onClick:close"])):p("",!0),d(C,{ref_key:"formRef",ref:M,onSubmit:f(ae,["prevent"])},{default:u((()=>["register"===D.value?(v(),m(U,{key:0,modelValue:B.displayName,"onUpdate:modelValue":e=>B.displayName=e,label:r(b)("auth.displayName"),rules:J,variant:"outlined","prepend-inner-icon":"mdi-account",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"])):p("",!0),d(U,{modelValue:B.email,"onUpdate:modelValue":e=>B.email=e,label:r(b)("auth.email"),rules:F,variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"]),d(U,{modelValue:B.password,"onUpdate:modelValue":e=>B.password=e,label:r(b)("auth.password"),rules:H,variant:"outlined",type:G.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":G.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>G.value=!G.value,class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label","type","append-inner-icon","onClick:appendInner"]),"register"===D.value?(v(),m(U,{key:1,modelValue:B.confirmPassword,"onUpdate:modelValue":e=>B.confirmPassword=e,label:r(b)("auth.confirmPassword"),rules:Q.value,variant:"outlined",type:W.value?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":W.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>W.value=!W.value,class:"mb-4",required:""},null,8,["modelValue","onUpdate:modelValue","label","rules","type","append-inner-icon","onClick:appendInner"])):p("",!0),d(P,{type:"submit",color:"primary",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100"},{default:u((()=>[c(s("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit")),1)])),_:1},8,["loading"]),d(I,{class:"my-4"},{default:u((()=>[d("span",{class:"text-body-2 text-medium-emphasis px-2"},s(r(b)("auth.orDivider")),1)])),_:1}),d(P,{onClick:Y,color:"white",variant:"outlined",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100","prepend-icon":"mdi-google"},{default:u((()=>[c(s(r(b)("auth.signInWithGoogle")),1)])),_:1},8,["loading"])])),_:1},512),"login"===D.value?(v(),m("div",{key:2,class:"text-center mb-4"},[d(P,{variant:"text",color:"primary",size:"small",onClick:e=>S.value=!0},{default:u((()=>[c(s(r(b)("auth.forgotPassword")),1)])),_:1},8,["onClick"])])):p("",!0),d(I,{class:"my-4"}),d("div",{class:"text-center"},[d("p",{class:"text-body-2 mb-2"},s("login"===D.value?r(b)("auth.noAccount"):r(b)("auth.hasAccount")),1),d(P,{variant:"text",color:"primary",onClick:le},{default:u((()=>[c(s("login"===D.value?r(b)("auth.register.link"):r(b)("auth.login.link")),1)])),_:1})])];T.value?l(y(_,{type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>T.value=null},{default:u(((e,l,a,t)=>{if(!l)return[c(s(T.value),1)];l(`${g(T.value)}`)})),_:1},a,t)):l("\x3c!----\x3e"),L.value?l(y(_,{type:"success",variant:"tonal",class:"mb-4",closable:"","onClick:close":e=>L.value=null},{default:u(((e,l,a,t)=>{if(!l)return[c(s(L.value),1)];l(`${g(L.value)}`)})),_:1},a,t)):l("\x3c!----\x3e"),l(y(C,{ref_key:"formRef",ref:M,onSubmit:ae},{default:u(((e,l,a,t)=>{if(!l)return["register"===D.value?(v(),m(U,{key:0,modelValue:B.displayName,"onUpdate:modelValue":e=>B.displayName=e,label:r(b)("auth.displayName"),rules:J,variant:"outlined","prepend-inner-icon":"mdi-account",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"])):p("",!0),d(U,{modelValue:B.email,"onUpdate:modelValue":e=>B.email=e,label:r(b)("auth.email"),rules:F,variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label"]),d(U,{modelValue:B.password,"onUpdate:modelValue":e=>B.password=e,label:r(b)("auth.password"),rules:H,variant:"outlined",type:G.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":G.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>G.value=!G.value,class:"mb-3",required:""},null,8,["modelValue","onUpdate:modelValue","label","type","append-inner-icon","onClick:appendInner"]),"register"===D.value?(v(),m(U,{key:1,modelValue:B.confirmPassword,"onUpdate:modelValue":e=>B.confirmPassword=e,label:r(b)("auth.confirmPassword"),rules:Q.value,variant:"outlined",type:W.value?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":W.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>W.value=!W.value,class:"mb-4",required:""},null,8,["modelValue","onUpdate:modelValue","label","rules","type","append-inner-icon","onClick:appendInner"])):p("",!0),d(P,{type:"submit",color:"primary",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100"},{default:u((()=>[c(s("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit")),1)])),_:1},8,["loading"]),d(I,{class:"my-4"},{default:u((()=>[d("span",{class:"text-body-2 text-medium-emphasis px-2"},s(r(b)("auth.orDivider")),1)])),_:1}),d(P,{onClick:Y,color:"white",variant:"outlined",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100","prepend-icon":"mdi-google"},{default:u((()=>[c(s(r(b)("auth.signInWithGoogle")),1)])),_:1},8,["loading"])];"register"===D.value?l(y(U,{modelValue:B.displayName,"onUpdate:modelValue":e=>B.displayName=e,label:r(b)("auth.displayName"),rules:J,variant:"outlined","prepend-inner-icon":"mdi-account",class:"mb-3",required:""},null,a,t)):l("\x3c!----\x3e"),l(y(U,{modelValue:B.email,"onUpdate:modelValue":e=>B.email=e,label:r(b)("auth.email"),rules:F,variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",class:"mb-3",required:""},null,a,t)),l(y(U,{modelValue:B.password,"onUpdate:modelValue":e=>B.password=e,label:r(b)("auth.password"),rules:H,variant:"outlined",type:G.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":G.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>G.value=!G.value,class:"mb-3",required:""},null,a,t)),"register"===D.value?l(y(U,{modelValue:B.confirmPassword,"onUpdate:modelValue":e=>B.confirmPassword=e,label:r(b)("auth.confirmPassword"),rules:Q.value,variant:"outlined",type:W.value?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":W.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e=>W.value=!W.value,class:"mb-4",required:""},null,a,t)):l("\x3c!----\x3e"),l(y(P,{type:"submit",color:"primary",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100"},{default:u(((e,l,a,t)=>{if(!l)return[c(s("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit")),1)];l(`${g("login"===D.value?r(b)("auth.login.submit"):r(b)("auth.register.submit"))}`)})),_:1},a,t)),l(y(I,{class:"my-4"},{default:u(((e,l,a,t)=>{if(!l)return[d("span",{class:"text-body-2 text-medium-emphasis px-2"},s(r(b)("auth.orDivider")),1)];l(`<span class="text-body-2 text-medium-emphasis px-2" data-v-27f3f4df${t}>${g(r(b)("auth.orDivider"))}</span>`)})),_:1},a,t)),l(y(P,{onClick:Y,color:"white",variant:"outlined",size:"large",block:"",loading:E.value,class:"text-none mb-4 w-100","prepend-icon":"mdi-google"},{default:u(((e,l,a,t)=>{if(!l)return[c(s(r(b)("auth.signInWithGoogle")),1)];l(`${g(r(b)("auth.signInWithGoogle"))}`)})),_:1},a,t))})),_:1},a,t)),"login"===D.value?(l(`<div class="text-center mb-4" data-v-27f3f4df${t}>`),l(y(P,{variant:"text",color:"primary",size:"small",onClick:e=>S.value=!0},{default:u(((e,l,a,t)=>{if(!l)return[c(s(r(b)("auth.forgotPassword")),1)];l(`${g(r(b)("auth.forgotPassword"))}`)})),_:1},a,t)),l("</div>")):l("\x3c!----\x3e"),l(y(I,{class:"my-4"},null,a,t)),l(`<div class="text-center" data-v-27f3f4df${t}><p class="text-body-2 mb-2" data-v-27f3f4df${t}>${g("login"===D.value?r(b)("auth.noAccount"):r(b)("auth.hasAccount"))}</p>`),l(y(P,{variant:"text",color:"primary",onClick:le},{default:u(((e,l,a,t)=>{if(!l)return[c(s("login"===D.value?r(b)("auth.register.link"):r(b)("auth.login.link")),1)];l(`${g("login"===D.value?r(b)("auth.register.link"):r(b)("auth.login.link"))}`)})),_:1},a,t)),l("</div>")})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},a,t)),l(y(q,{modelValue:S.value,"onUpdate:modelValue":e=>S.value=e,"max-width":"500"},{default:u(((e,l,a,t)=>{if(!l)return[d(w,null,{default:u((()=>[d(V,{class:"text-h5"},{default:u((()=>[c(s(r(b)("auth.resetPassword.title")),1)])),_:1}),d(x,null,{default:u((()=>[d("p",{class:"mb-4"},s(r(b)("auth.resetPassword.description")),1),d(U,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,label:r(b)("auth.email"),variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",rules:F},null,8,["modelValue","onUpdate:modelValue","label"])])),_:1}),d(N,null,{default:u((()=>[d(z),d(P,{variant:"text",onClick:e=>S.value=!1},{default:u((()=>[c(s(r(b)("auth.cancel")),1)])),_:1},8,["onClick"]),d(P,{color:"primary",variant:"flat",loading:K.value,onClick:oe},{default:u((()=>[c(s(r(b)("auth.resetPassword.submit")),1)])),_:1},8,["loading"])])),_:1})])),_:1})];l(y(w,null,{default:u(((e,l,a,t)=>{if(!l)return[d(V,{class:"text-h5"},{default:u((()=>[c(s(r(b)("auth.resetPassword.title")),1)])),_:1}),d(x,null,{default:u((()=>[d("p",{class:"mb-4"},s(r(b)("auth.resetPassword.description")),1),d(U,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,label:r(b)("auth.email"),variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",rules:F},null,8,["modelValue","onUpdate:modelValue","label"])])),_:1}),d(N,null,{default:u((()=>[d(z),d(P,{variant:"text",onClick:e=>S.value=!1},{default:u((()=>[c(s(r(b)("auth.cancel")),1)])),_:1},8,["onClick"]),d(P,{color:"primary",variant:"flat",loading:K.value,onClick:oe},{default:u((()=>[c(s(r(b)("auth.resetPassword.submit")),1)])),_:1},8,["loading"])])),_:1})];l(y(V,{class:"text-h5"},{default:u(((e,l,a,t)=>{if(!l)return[c(s(r(b)("auth.resetPassword.title")),1)];l(`${g(r(b)("auth.resetPassword.title"))}`)})),_:1},a,t)),l(y(x,null,{default:u(((e,l,a,t)=>{if(!l)return[d("p",{class:"mb-4"},s(r(b)("auth.resetPassword.description")),1),d(U,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,label:r(b)("auth.email"),variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",rules:F},null,8,["modelValue","onUpdate:modelValue","label"])];l(`<p class="mb-4" data-v-27f3f4df${t}>${g(r(b)("auth.resetPassword.description"))}</p>`),l(y(U,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,label:r(b)("auth.email"),variant:"outlined",type:"email","prepend-inner-icon":"mdi-email",rules:F},null,a,t))})),_:1},a,t)),l(y(N,null,{default:u(((e,l,a,t)=>{if(!l)return[d(z),d(P,{variant:"text",onClick:e=>S.value=!1},{default:u((()=>[c(s(r(b)("auth.cancel")),1)])),_:1},8,["onClick"]),d(P,{color:"primary",variant:"flat",loading:K.value,onClick:oe},{default:u((()=>[c(s(r(b)("auth.resetPassword.submit")),1)])),_:1},8,["loading"])];l(y(z,null,null,a,t)),l(y(P,{variant:"text",onClick:e=>S.value=!1},{default:u(((e,l,a,t)=>{if(!l)return[c(s(r(b)("auth.cancel")),1)];l(`${g(r(b)("auth.cancel"))}`)})),_:1},a,t)),l(y(P,{color:"primary",variant:"flat",loading:K.value,onClick:oe},{default:u(((e,l,a,t)=>{if(!l)return[c(s(r(b)("auth.resetPassword.submit")),1)];l(`${g(r(b)("auth.resetPassword.submit"))}`)})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},a))}}}),I=P.setup;P.setup=(e,l)=>{const a=b();return(a.modules||(a.modules=new Set)).add("pages/auth.vue"),I?I(e,l):void 0};const q=U(P,[["__scopeId","data-v-27f3f4df"]]);export{q as default};
//# sourceMappingURL=auth-OIjSCO6o.mjs.map
